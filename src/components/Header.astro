---

---

<header
  class="sticky top-0 z-50 bg-white border-b-[length:var(--border-width-comic)] border-black shadow-[0_var(--shadow-offset-comic)_0_0_rgba(0,0,0,0.1)]"
>
  <div
    class="max-w-5xl mx-auto px-4 sm:px-6 h-20 flex items-center justify-between"
  >
    <a
      href="/"
      class="text-3xl font-bold font-comic-heading text-black hover:text-primary transition-colors hover:scale-105 transform duration-200"
    >
      SG
    </a>

    <nav class="flex items-center gap-6">
      <a
        href="/#projects"
        class="font-comic-heading text-xl text-black hover:text-primary transition-colors uppercase tracking-wide"
        >Projects</a
      >
      <a
        href="/writings"
        class="font-comic-heading text-xl text-black hover:text-primary transition-colors uppercase tracking-wide"
        >Writings</a
      >
      <button
        id="global-sound-toggle"
        class="flex items-center justify-center w-10 h-10 rounded-full border-2 border-black bg-gray-300 hover:scale-110 transition-transform shadow-[2px_2px_0_0_#000]"
        aria-label="Toggle Sound"
      >
        <span class="sound-icon hidden text-lg">ðŸ”Š</span>
        <span class="mute-icon text-lg">ðŸ”‡</span>
      </button>

      <a
        href="https://github.com/g-savitha"
        target="_blank"
        class="comic-button text-sm px-4 py-1 !shadow-[2px_2px_0_0_#000] hover:!shadow-[4px_4px_0_0_#000]"
      >
        GitHub
      </a>
    </nav>

    {/* Mobile Menu Placeholder - styled as a comic button if needed later */}
    <div
      class="sm:hidden font-comic-heading text-xl cursor-pointer hover:text-primary"
    >
      MENU
    </div>
  </div>

  <script is:inline>
    // Global Sound Manager
    window.SOUND_ENABLED =
      localStorage.getItem('comic_sound_enabled') === 'true'; // Default false

    const updateGlobalSoundUI = () => {
      const btn = document.getElementById('global-sound-toggle');
      const soundIcon = btn?.querySelector('.sound-icon');
      const muteIcon = btn?.querySelector('.mute-icon');

      if (window.SOUND_ENABLED) {
        btn?.classList.remove('bg-gray-300');
        btn?.classList.add('bg-green-400');
        soundIcon?.classList.remove('hidden');
        muteIcon?.classList.add('hidden');
      } else {
        btn?.classList.add('bg-gray-300');
        btn?.classList.remove('bg-green-400');
        soundIcon?.classList.add('hidden');
        muteIcon?.classList.remove('hidden');
      }
    };

    // Initialize UI on load
    updateGlobalSoundUI();

    document
      .getElementById('global-sound-toggle')
      ?.addEventListener('click', () => {
        window.SOUND_ENABLED = !window.SOUND_ENABLED;
        localStorage.setItem(
          'comic_sound_enabled',
          window.SOUND_ENABLED.toString(),
        );
        updateGlobalSoundUI();

        // Dispatch event for other components to listen to if needed
        window.dispatchEvent(
          new CustomEvent('sound-toggle', { detail: window.SOUND_ENABLED }),
        );
      });

    // Handle view transitions if enabled
    document.addEventListener('astro:page-load', () => {
      // Re-attach listener and update UI after navigation
      // Re-read state in case it changed
      window.SOUND_ENABLED =
        localStorage.getItem('comic_sound_enabled') === 'true';
      updateGlobalSoundUI();

      document
        .getElementById('global-sound-toggle')
        ?.addEventListener('click', () => {
          window.SOUND_ENABLED = !window.SOUND_ENABLED;
          localStorage.setItem(
            'comic_sound_enabled',
            window.SOUND_ENABLED.toString(),
          );
          updateGlobalSoundUI();
          window.dispatchEvent(
            new CustomEvent('sound-toggle', { detail: window.SOUND_ENABLED }),
          );
        });
    });
  </script>
</header>
